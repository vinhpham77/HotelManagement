<div class='wrapper container'>
  <mat-form-field class=''>
    <mat-label>Tìm kiếm</mat-label>
    <input matInput (keyup)='applyFilter($event)' type='text' [(ngModel)]='searchValue'>
  </mat-form-field>
  <div class='mat-elevation-z4'>
    <div class="loading-shade"
         *ngIf="isLoadingResults || isRateLimitReached">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
      <div class="rate-limit-reached" *ngIf="isRateLimitReached">
        Vuợt quá giới hạn tải. Vui lòng đợi trong ít phút và thử lại sau.
      </div>
    </div>
    <div class='table-container'>
      <table mat-table [dataSource]='dataSource' matSort>
        <!-- Checkbox Column -->
        <ng-container class='mat-column-narrower' matColumnDef='select'>
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox color='primary'
                          (change)='$event ? toggleAllRows() : null'
                          [checked]='selections.hasValue() && isAllSelected()'
                          [indeterminate]='selections.hasValue() && !isAllSelected()'
            >
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef='let row'>
            <mat-checkbox color='primary'
                          (click)='$event.stopPropagation()'
                          (change)='$event ? selections.toggle(row) : null'
                          [checked]='selections.isSelected(row)'
            >
            </mat-checkbox>
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef='name'>
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription='Sắp theo tên loại phòng'>
            Loại phòng
          </th>
          <td mat-cell *matCellDef='let element'>{{element.name}}</td>
        </ng-container>

        <!-- Description Column -->
        <ng-container matColumnDef='description'>
          <th mat-header-cell *matHeaderCellDef>Mô tả</th>
          <td mat-cell *matCellDef='let element'>{{element.description}}</td>
        </ng-container>

        <!-- Actions Column  -->
        <ng-container matColumnDef='actions'>
          <th mat-header-cell *matHeaderCellDef>Thao tác</th>
          <td mat-cell *matCellDef='let element'>X</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef='displayedColumns; sticky: true'></tr>
        <tr mat-row *matRowDef='let row; columns: displayedColumns;'></tr>
      </table>
    </div>

    <mat-paginator [pageSizeOptions]='[8, 15, 25]'
                   showFirstLastButtons
                   [length]='dataSource.data.length'
                   aria-label='Select page of periodic elements'>
    </mat-paginator>
  </div>
</div>
